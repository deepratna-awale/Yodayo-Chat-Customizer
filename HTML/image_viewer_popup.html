<div id="headlessui-portal-root">
  <div data-headlessui-portal="">
    <button
      type="button"
      data-headlessui-focus-guard="true"
      aria-hidden="true"
      style="
        position: fixed;
        top: 1px;
        left: 1px;
        width: 1px;
        height: 0px;
        padding: 0px;
        margin: -1px;
        overflow: hidden;
        clip: rect(0px, 0px, 0px, 0px);
        white-space: nowrap;
        border-width: 0px;
      "
    ></button>

    <div
      class="relative z-50"
      id="headlessui-dialog-:r1f:"
      role="dialog"
      aria-modal="true"
      data-headlessui-state="open"
      aria-labelledby="headlessui-dialog-title-:r1i:"
    >
      <div
        class="fixed inset-0 bg-backdrop transition-opacity opacity-100" id="image-viewer-overlay"
      ></div>
      <div class="fixed inset-0 z-10 overflow-y-auto" >
        <!-- This is the main container for the image viewer popup -->
        <div
          class="flex min-h-screen min-w-screen items-end justify-center p-4 sm:items-center sm:p-0"
          id="image-viewer-ui-popup"
          data-headlessui-state="open"
        >
          <div
            class="flex flex-col mx-4 w-screen h-[85vh] overflow-y-auto rounded-lg bg-secondaryBg shadow-xl transition-all sm:my-8 sm:max-w-4xl sm:min-h-[80vh] opacity-100 translate-y-0 sm:scale-100"
          >
            <div
              class="relative p-2 bg-secondaryBg text-white text-center text-xl border-b border-[#22242b]"
            >
              <div
                id="settings-button"
                class="absolute top-2 left-2 cursor-pointer hover:scale-110 hover:text-primaryText transition-transform"
                title="Import/Export Settings"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="24px"
                  viewBox="0 0 24 24"
                  width="24px"
                  fill="currentColor"
                >
                  <path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/>
                </svg>
              </div>
              All Chat Settings
              <div
                id="close-button"
                class="absolute top-2 right-2 cursor-pointer hover:scale-110 hover:text-primaryText"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  height="24px"
                  viewBox="0 0 24 24"
                  width="24px"
                  fill="#ff0000"
                >
                  <path
                    d="M6 18L18 6M6 6l12 12"
                    stroke="red"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </div>
            </div>
            <div
              class="flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 overflow-y-auto overflow-x-hidden p-6 bg-primaryBg"
              id="cards"
              style="perspective: 1000px;"
            >
              <!-- Cards will be inserted here -->
            </div>
            <div
              class="p-2 bg-secondaryBg text-secondaryText text-center border-t border-[#22242b]"
            >
              Moescape/ Yodayo User Data DB
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Settings Modal -->
    <div
      id="settings-modal"
      class="fixed inset-0 z-50 hidden"
      role="dialog"
      aria-modal="true"
      aria-labelledby="settings-modal-title"
    >
      <div class="fixed inset-0 bg-black bg-opacity-50 transition-opacity"></div>
      <div class="fixed inset-0 z-10 overflow-y-auto">
        <div class="flex min-h-full items-center justify-center p-4">
          <div class="w-full max-w-md transform overflow-hidden rounded-lg bg-secondaryBg shadow-xl transition-all">
            <div class="bg-secondaryBg px-4 pt-5 pb-4">
              <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-medium text-white" id="settings-modal-title">
                  Import/Export Settings
                </h3>
                <button
                  id="settings-modal-close"
                  class="text-gray-400 hover:text-white transition-colors"
                >
                  <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                  </svg>
                </button>
              </div>
              
              <div class="space-y-4">
                <!-- Export Section -->
                <div class="border-b border-gray-600 pb-4">
                  <h4 class="text-md font-medium text-white mb-3">Export Database</h4>
                  <div class="space-y-2">
                    <button
                      id="export-json-btn"
                      class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded transition-colors"
                    >
                      Export as JSON
                    </button>
                    <button
                      id="export-png-btn"
                      class="w-full bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded transition-colors"
                    >
                      Export as PNG
                    </button>
                  </div>
                </div>

                <!-- Import Section -->
                <div>
                  <h4 class="text-md font-medium text-white mb-3">Import Database</h4>
                  
                  <!-- File Upload -->
                  <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-300 mb-2">
                      Upload File (JSON or PNG)
                    </label>
                    <input
                      type="file"
                      id="import-file-input"
                      accept=".json,.png"
                      class="block w-full text-sm text-gray-300 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-medium file:bg-blue-600 file:text-white hover:file:bg-blue-700 file:cursor-pointer"
                    />
                  </div>

                  <!-- URL Input -->
                  <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-300 mb-2">
                      Or Enter Image URL
                    </label>
                    <div class="flex space-x-2">
                      <input
                        type="url"
                        id="import-url-input"
                        placeholder="https://example.com/image.png"
                        class="flex-1 bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500"
                      />
                      <button
                        id="import-url-btn"
                        class="bg-purple-600 hover:bg-purple-700 text-white font-medium py-2 px-4 rounded transition-colors"
                      >
                        Import
                      </button>
                    </div>
                  </div>

                  <!-- Import Options -->
                  <div class="mb-4">
                    <label class="flex items-center text-sm text-gray-300">
                      <input
                        type="checkbox"
                        id="clear-existing-data"
                        class="mr-2 rounded"
                      />
                      Clear existing data before import
                    </label>
                  </div>

                  <!-- Import Status -->
                  <div id="import-status" class="hidden">
                    <div class="rounded-md p-3 text-sm">
                      <div id="import-message"></div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
